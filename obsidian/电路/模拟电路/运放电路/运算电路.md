---
tags:
  - application
  - element
previous:
  - "[[运算放大器]]"
---

# 加法器
![[Pasted image 20251005154337.png|400]]

参考[[放大电路#反相放大电路|反向放大器构建原理]],$v_{o}=-\frac{R_{3}}{R_{2}}v_2-\frac{R_{3}}{R_{1}}v_{1}$
>[!warning] 理想加法器
>两根电线没有交叉耦合

# 减法器
![[Pasted image 20251005155308.png|500]]
>[!tip] 由[[线性电路]]的原理推导
>$$
>\begin{aligned}
>仅&考虑v_{1}:v_{out}=v_{1} \frac{R_{2}}{R_{1}+R_{2}}\cdot \frac{R_{1}+R_{2}}{R_{1}}=v_{1} \frac{R_{2}}{R_{1}}\\
>仅&考虑v_{2}:v_{out}=- v_{2}\frac{R_{2}}{R_{1}}\\
>&\implies v_{out}=\frac{R_{2}}{R_{1}}(v_{1}-v_{2})
\end{aligned}
>$$

# 积分器
积分器反而比加法器与减法器简单,可能因为真实的物理世界本来就是积分的,运用**电容器**可以简单实现.
因为电容的电压即是电流对时间的积分.

![[Pasted image 20251005162219.png|500]]

$$
\begin{aligned}
&v^+=v^-=0\\
&I=\frac{v_{i}}{R}\\
\implies v_{o}&=-\frac{1}{C}\int_{0}^t \frac{v_{i}}{R}\, dt
\end{aligned}
$$
实现了对输入信号的积分

## 积分电路分析(精确)
$$
\begin{align}
\frac{v_{I}-v^-}{R}=C \frac{d(v^--v_{o})}{dt} \\
v_{o}=A(v^+ - v^-)\implies v^-=-\frac{1}{A}v_{o} \\[20pt]
 \begin{cases}
(A+1)RC\frac{dv_{o}}{dt}+v_{o}+Av_{I}=0 \\[15pt]
v_{o}\big|_{t=0}=0
\end{cases}\implies v_{o}=-Av_{I}\left( 1-e^{ -\frac{t}{(1+A)RC} } \right) \\

\end{align}
$$

>[!warning] 被积函数$v_{i}$是常数,否则上式微分方程求解不出来.

### 时间常数
考虑RC充电电路:
$$
\begin{align}
v_{o}=v_{I}\left( 1-e^{ - \frac{t}{RC} } \right)
\end{align}
$$
称RC为时间常数,时间常数越大,电路==线性特性时间越长,更加适合作积分器==.
```python
from cProfile import label  
  
import matplotlib.pyplot as plt  
import numpy as np  
  
vI=10  
t=np.linspace(0,10000,1000000)  
  
R1=10;C1=10  
R2=20;C2=100  
  
vo1=vI*(1-np.exp(-t/(R1*C1)))  
vo2=vI*(1-np.exp(-t/(R2*C2)))  
  
plt.plot(t,vo1,label='smaller')  
  
plt.plot(t,vo2,label='larger')  
  
plt.legend()  
plt.show()
```

## 积分式数模转换器
![[Pasted image 20251021215347.png|400]]
![[Pasted image 20251021215441.png|200]]

>[!important] 与普通的积分器比较,上面的在反馈回路中多了电容
![[Pasted image 20251005162219.png|200]]
> 因为现实中输入电流是带有微小误差的,而$C_{2}$的存在,就是捕获这部分误差

### 工作原理
先对电容充电,再放电.
根据充放电的时间进行测量.
首先对电路进行校正,目的是让电路中(尤其是电容器)多余的电荷排出.
接着输入信号 $v_{in}$ ,电流 $I$ 为 $\frac{v_{in}}{R}$ ,经过时间 $T_{1}$ 后,电容电荷为$\frac{v_{in}}{R}\cdot T_{1}$.
最后将开关打到 $V_{ref}$ 放电,放电电流为$\frac{V_{ref}}{R}$ ,测得放电时间$T_{2}$,根据电荷守恒,应有:

$$
\begin{align}
\frac{V_{ref}}{R}\cdot T_{1}=\frac{v_{in}}{R}\cdot T_{2} \\[10pt]
\implies v_{I}\cdot T_{1}+v_{ref}\cdot T_{2}=0 \\[10pt]
又计时是通过固定周期计数实现的: N_{1}\cdot T=T_{1},N_{2}\cdot T=T_{2}\\[15pt]
\implies v_{I}=-v_{ref} \cdot \frac{N_{2}}{N_{1}} 
\end{align}
$$

>[!question] 参考电压有什么要求
因为计时器所能计时的最大时间是固定的,所以$N_{1}$是固定的,而放电的时间$N_{2}$不固定,但要小于$N_{1}$
>$$
\begin{align}
N_{2}\leq N_{1} \\
\implies |v_{i}|\leq |v_{ref}|
\end{align}
>$$





# 微分器
还是运用电容的充放电.
![[Pasted image 20251005163348.png|300]]
>[!tip] 电容的作用
>在此处,电容记录的是输入电压的实时值,即每时每刻的电压与输入的$v_{i}$保持一致.
>同时,电容的电压变化还会释放电流这个输出,最后通过电阻显示出来.

$$
\begin{aligned}
&i_{1}=C \frac{dv_{i}}{dt}\\
&v_{o}=-RC \frac{dv_{i}}{dt}
\end{aligned}
$$
>[!example] 工程应用
>检测波形跳变



---
# 例题
![[Pasted image 20251020231655.png|500]]
(1)
反向求和放大器
(2)
$$
\begin{align}
v_{o}=-\frac{250}{5} v_{a}-\frac{250}{25}v_{b}=-7.5V \\

\end{align}
$$
(3)
$$
v_{o}=-10V=-50v_{a}-2.5
\implies v_{a}=0.15V
$$


---
![[Pasted image 20251020232121.png|500]]
应用[[复指数分析法]]
$$
\begin{align}
H(\omega)=&\frac{v_{o}}{v_{i}} \\[9pt]
=&-\frac{R_{L} || \frac{1}{C_{2}s}}{R_{L}} \frac{R_{H}}{R_{H}+\frac{1}{C_{H}s}} \frac{R_{f}}{R_{i}} \\[15pt]
\implies |H(\omega)|=&\frac{1}{\sqrt{ (R_{L}C_{L}\omega)^2+1 }} \frac{1}{\sqrt{ 1+\left(  \frac{1}{R_{H}C_{H}\omega} \right)^2 }} \frac{R_{f}}{R_{i}}
\end{align}
$$
>[!tip] 判断滤波器的技巧
>直接看每一级的传递函数,看每一级过滤了那些波,最后剩下的就是目标频率波

这是一个低通与高通级联,且没有带阻缺口,而是形成**带通**特性:
- 低频被高通抑制
- 高频被低通抑制
- 中间频段通过
因此这是**带通滤波器**.


---

![[Pasted image 20251023183506.png|650]]
![[Pasted image 20251023183529.png|400]]
(1)
![[Pasted image 20251023183451.png|400]]

(2)
由KCL:
$$
\begin{align}
i_{1}+\frac{0-i_{2}R_{2}}{R_{1}}+\frac{v_{o}-i_{2}R_{2}}{R_{3}}=0 \\[10pt]
\implies v_{o}=-i_{1}R_{3}+i_{2}R_{2} \frac{R_{1}+R_{3}}{R_{1}}
\end{align}
$$
10-25-2025周六
结合[[叠加定理]]可以快速计算

---
![[Pasted image 20251023230355.png|600]]

$$
\begin{align}
电路1: \frac{v_I-v^-}{R_{1}}=\frac{v^--v_{o}}{\frac{1}{C_{1}s}} \\[9pt]
v_{o}=-Av^-\\[10pt]
\implies\frac{v_{o}}{v_{I}}=-\frac{A}{R_{1}C_{1}s(A+1)+1} \\[30pt]
电路2: \frac{v^-}{v_{I}}=\frac{\frac{1}{C_{2}s}}{R_{1}+\frac{1}{C_{2}s}} \\[9pt]
\implies\frac{v_{o}}{v_{I}}=-\frac{A}{R_{1}C_{2}s+1} \\[10pt]
要求效果相等:R_{1}C_{2}s=R_{1}C_{1}s(A+1) \\[10pt]
\implies C_{2}=C_{1}(A+1)
\end{align}
$$

---
![[Pasted image 20251023232038.png|600]]
(1)
$$
\begin{align}
v_{o}=v_{I} \frac{R_{L}+R_{2}}{R_{2}} \\
i_{L}=\frac{v_{o}}{R_{L}+R_{2}}=\frac{v_{I}}{R_{2}}
\end{align}
$$

(2)
$$
\begin{align}
v_t=A(v_{I}+iR_{2}) \\
v_t=AiR_{2},v_{I}=0 \\
R_{th}=\frac{v_{t}}{i}=AR_{2}
\end{align}
$$
---

